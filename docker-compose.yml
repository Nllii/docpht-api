version: "3.9"
services:
  docpht-workflow:
    container_name: docpht-workflow
    build:
      context: docpht
      dockerfile: ./Dockerfile.docpht
    volumes:
      - ./api-volumes/docpht/config:/var/www/app/src/config 
      - ./api-volumes/docpht/data:/var/www/app/data 
      - ./api-volumes/docpht/pages:/var/www/app/pages 
      - ./api-volumes/docpht/etc/nginx/ssl:/etc/nginx/ssl     
    ports:
        - 8070:80
        - 444:443
    restart: always
  docpht-hapttic-server:
    container_name: docpht-hapttic-server
    build:
      context: hapttic
      dockerfile: ./Dockerfile.haptic
    restart: always
    ports:
        - 8012:8080
    volumes:
      - ./api-volumes/docpht/request-handler.sh:/hapttic_request_handler.sh                  # Replace this
    
    command: ["-file", "/hapttic_request_handler.sh"]

# volumes:
#   snikket_snikket_data:

  